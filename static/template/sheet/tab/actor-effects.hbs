<div class="effects">

  <div class="condition-list">
    {{#each effects.conditions as |effect e|}}
      {{#unless (eq "dead" effect.key)}}
        <div class="condition" data-tooltip="{{effect.name}}" data-key="{{effect.key}}" {{#unless
          effect.existing}}style="opacity:0.5" {{/unless}}>
          <a class="condition-click" data-tooltip="{{{effect.tooltip}}}"><img src="{{effect.img}}" /></a>
          <a class="condition-toggle">
            {{#if effect.existing}}
              <i class="far fa-check-square"></i>
            {{else}}
              <i class="far fa-square"></i>
            {{/if}}
          </a>
        </div>
      {{/unless}}
    {{/each}}
  </div>

  <div class="item-list">
    <div class="item-header">
      <h1 class="header-text">{{localize "HEADER.TEMPORARY_EFFECTS"}}</h1>
      <a class="effect-create absolute" data-tooltip="Create Effect" data-type="temporary"><i
          class="fas fa-plus"></i></a>
    </div>
    {{#each effects.temporary as |effect|}}
      <div class="item" data-effect-id="{{effect.id}}" data-uuid="{{effect.uuid}}">
        <div class="item-content">
          <div class="item-property item-name">
            <div class="item-image">
              <img src={{effect.icon}} />
            </div>
            <a class="effect-edit">{{effect.name}}</a>
          </div>

          <div class="item-property flex">

            {{#if effect.item}}
              <a class="item-edit source" data-uuid="{{effect.item.uuid}}"><i class="fa-solid fa-suitcase"></i>
                {{effect.source}}</a>
            {{else}}
              {{effect.source}}
            {{/if}}
          </div>

          <div class="item-controls">
            <a class="item-control effect-toggle" data-tooltip="{{localize 'EFFECT.DISABLE'}}"><i class="far fa-check-circle"></i></a>
            
            {{#if effect.item}}
            <a class="item-control" style="opacity: 50%" data-tooltip="{{localize 'WH.CannotDeleteItemEffect'}}"><i class="fas fa-times"></i></a>
            {{else}}
            <a class="item-control effect-delete" data-tooltip="{{localize 'WH.DeleteEffect'}}"><i class="fas fa-times"></i></a>
            {{/if}}

          </div>
        </div>
        {{> scriptButtons item=effect}}
      </div>
    {{/each}}
  </div>

  <hr>

  <div class="item-list">
    <div class="item-header">
      <h1 class="header-text">{{localize "HEADER.PASSIVE_EFFECTS"}}</h1>
      <a class="effect-create absolute" data-tooltip="{{localize 'EFFECT.CREATE'}}" data-type="passive"><i
          class="fas fa-plus"></i></a>
    </div>
    {{#each effects.passive as |effect|}}
      <div class="item" data-effect-id="{{effect.id}}" data-uuid="{{effect.uuid}}">
        <div class="item-content">
          <div class="item-property item-name">
            <div class="item-image">
              <img src={{effect.icon}} />
            </div>
            <a class="effect-edit">{{effect.name}}</a>
          </div>
          <div class="item-property flex">
            {{#if effect.item}}
              <a class="item-edit source" data-uuid="{{effect.item.uuid}}"><i class="fa-solid fa-suitcase"></i>
                {{effect.source}}</a>
            {{else}}
              {{effect.source}}
            {{/if}}
          </div>

          <div class="item-controls">
            <a class="item-control effect-toggle" data-tooltip="{{localize 'EFFECT.DISABLE'}}"><i
                class="far fa-check-circle"></i></a>
            {{#if effect.item}}
            <a class="item-control" style="opacity: 50%" data-tooltip="{{localize 'WH.CannotDeleteItemEffect'}}"><i class="fas fa-times"></i></a>
            {{else}}
            <a class="item-control effect-delete" data-tooltip="{{localize 'WH.DeleteEffect'}}"><i class="fas fa-times"></i></a>
            {{/if}}
          </div>
        </div>
        {{> scriptButtons item=effect}}

      </div>
    {{/each}}
  </div>

  <hr>

  <div class="item-list">
    <div class="item-header">
      <h1 class="header-text">{{localize "HEADER.DISABLED_EFFECTS"}}</h1>
    </div>
    {{#each effects.disabled as |effect|}}
      <div class="item" data-effect-id="{{effect.id}}" style="opacity: 0.5;" data-uuid="{{effect.uuid}}">
        <div class="item-content">
          <div class="item-property item-name">
            <div class="item-image">
              <img src={{effect.icon}} />
            </div>
            <a class="effect-edit">{{effect.name}}</a>
          </div>

          <div class="item-property flex">
          {{#if effect.item}}
            <a class="item-edit source" data-uuid="{{effect.item.uuid}}"><i class="fa-solid fa-suitcase"></i>
              {{effect.source}}</a>
          {{else}}
            {{effect.source}}
          {{/if}}
        </div>

        <div class="item-controls">
          <a class="item-control effect-toggle" data-tooltip="{{localize 'EFFECT.ENABLE'}}"><i
              class="far fa-circle"></i></a>
            {{#if effect.item}}
            <a class="item-control" style="opacity: 50%" data-tooltip="{{localize 'WH.CannotDeleteItemEffect'}}"><i class="fas fa-times"></i></a>
            {{else}}
            <a class="item-control effect-delete" data-tooltip="{{localize 'WH.DeleteEffect'}}"><i class="fas fa-times"></i></a>
            {{/if}}
        </div>
      </div>
  </div>
  {{/each}}
</div>
</div>